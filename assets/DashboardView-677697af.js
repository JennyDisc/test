import{_ as d,R as _,r as u,o as p,c as m,a as e,b as t,w as c,d as i,j as f,F as k}from"./index-f0875c02.js";const{VITE_APP_URL:g}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"jenny7532",BASE_URL:"/test/",MODE:"production",DEV:!1,PROD:!0},$={data(){return{checkSuccess:!1}},components:{RouterView:_},methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,this.$router.push("/login")},checkLogin(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=s;const o=`${g}v2/api/user/check`;console.log(o),this.$http.post(o,s).then(n=>{console.log(n),n.data.success||(alert("您尚未登入!"),this.$router.push("/login"))})}},mounted(){this.checkLogin()}},x=i("hr",null,null,-1);function V(s,o,n,w,P,a){const r=u("router-link"),l=u("router-view");return p(),m(k,null,[e(" 這是「管理者」使用的後台頁面 "),t(r,{to:"/admin/products"},{default:c(()=>[e("後台產品列表")]),_:1}),e(" | "),t(r,{to:"/admin/orders"},{default:c(()=>[e("後台訂單列表")]),_:1}),e(" | "),t(r,{to:"/"},{default:c(()=>[e("回前台")]),_:1}),e(" | "),i("a",{href:"#",onClick:o[0]||(o[0]=f((...h)=>a.logout&&a.logout(...h),["prevent"]))},"登出"),x,t(l)],64)}const T=d($,[["render",V]]);export{T as default};
